<!DOCTYPE html><html lang="pt-BR"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Confirmação de Acordo</title>

  <!-- Tipografia de recibo/profissional -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600;700&family=Inter+Tight:wght@700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#f7f8fa; --card:#ffffff; --text:#111827; --muted:#6b7280;
      --border:rgba(17,24,39,.12);
      --serasa:#e40f7e; --ok:#16a34a; --warn:#f59e0b; --danger:#ef4444;

      /* escala levemente reduzida */
      --fs-xs:11.5px;
      --fs-sm:12.5px;
      --fs-md:13.5px;   /* base */
      --fs-lg:15px;
      --fs-xl:17px;

      /* sem respiro lateral no iframe */
      --radius:12px; --pad-outer:0; --pad-inner:10px; --gap:8px;
      --shadow:0 6px 16px rgba(17,24,39,.08);
    }

    *{box-sizing:border-box}

    /* IMPORTANTE: sem scroll interno no iframe */
    html,body{height:100vh; overflow:hidden; width:100vw;}

    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:'IBM Plex Sans', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      font-size:var(--fs-md); line-height:1.42; padding:var(--pad-outer);
    }

    .documento{
      /* ocupar 100% da largura do iframe */
      width:100%;
      max-width:none;
      margin:0;
      background:var(--card);
      border:1px solid var(--border); border-radius:var(--radius); overflow:hidden;
      box-shadow:var(--shadow);

      /* preparado para escala que remove necessidade de scroll */
      transform-origin: top left; /* importante p/ compensar largura */
      will-change: transform;
    }

    .cabecalho{
      display:flex; align-items:center; justify-content:space-between; gap:var(--gap);
      padding:var(--pad-inner) calc(var(--pad-inner) + 2px);
      border-bottom:1px solid var(--border);
      background:linear-gradient(180deg,#ffffff,#fff8fb 60%,#ffffff);
    }

    .logo-secao{display:flex; align-items:center; gap:8px}
    .logo{height:20px}
    .titulo-documento{
      font-family:'Inter Tight', 'IBM Plex Sans', sans-serif;
      font-size:var(--fs-xl); margin:0; font-weight:800; letter-spacing:.2px;
    }

    .selo-pendente{
      display:inline-flex; align-items:center; gap:6px;
      padding:3px 10px; border-radius:999px; font-weight:700;
      color:#8a5800; background:#fff7ed; border:1px solid #fde68a;
      text-transform:uppercase; letter-spacing:.35px; font-size:var(--fs-xs);
      white-space:nowrap;
    }

    .data-documento{
      padding:8px calc(var(--pad-inner) + 2px);
      color:var(--muted); font-size:var(--fs-sm); text-align:right;
    }

    .corpo-texto{padding:0 calc(var(--pad-inner) + 2px) var(--pad-inner)}
    .paragrafo{margin-bottom:10px}

    .destaque-desconto{
      margin:12px 0 14px; padding:9px 12px; border-radius:8px;
      background:var(--serasa); color:#fff; text-align:center;
      font-family:'Inter Tight','IBM Plex Sans',sans-serif;
      font-weight:800; font-size:var(--fs-lg);
      box-shadow:0 3px 10px rgba(228,15,126,.18);
    }

    .tabela-detalhes{
      border:1px solid var(--border); border-radius:10px; overflow:hidden; background:#fff;
    }
    .tabela-titulo{
      display:flex; align-items:center; gap:8px; padding:9px 12px;
      background:#f8fafc; border-bottom:1px solid var(--border);
      font-weight:700; color:#334155; text-transform:uppercase; letter-spacing:.28px;
      font-size:var(--fs-sm);
    }
    .linha-detalhe{
      display:flex; justify-content:space-between; gap:10px;
      padding:9px 12px; border-bottom:1px dashed var(--border);
    }
    .linha-detalhe:last-child{border-bottom:0}
    .label{color:var(--muted); font-size:var(--fs-sm)}
    .valor{
      font-weight:700; color:#0f172a; font-size:var(--fs-md);
      /* números com largura fixa → recibo “alinhadinho” */
      font-variant-numeric: tabular-nums; 
      -webkit-font-feature-settings: "tnum" 1, "lnum" 1; 
              font-feature-settings: "tnum" 1, "lnum" 1;
    }
    #statusPagamento{font-weight:800}

    .declaracao{margin-top:12px}
    .declaracao-texto{
      padding:9px 12px; border-radius:8px;
      border:1px solid #fde68a; background:#fffbeb; color:#7c5300;
      font-size:var(--fs-sm);
    }

    .assinatura-secao{
      padding:10px calc(var(--pad-inner) + 2px);
      border-top:1px solid var(--border);
      background:#fafafa; color:var(--muted); font-size:var(--fs-sm);
    }

    .rodape{
      display:flex; justify-content:space-between; gap:8px;
      padding:9px calc(var(--pad-inner) + 2px); color:var(--muted); font-size:var(--fs-xs);
      border-top:1px solid var(--border); background:#ffffff;
    }

    @media (max-width:640px){
      body{padding:0} /* garantir zero padding tb no mobile */
      .linha-detalhe{flex-direction:column; align-items:flex-start}
      .data-documento{text-align:left}
    }
  </style>
</head>
<body>
  <!-- === mantém exatamente sua estrutura/IDs === -->
  <div class="documento">
    <div class="cabecalho">
      <div class="logo-secao">
        <img class="logo" alt="Logo Serasa" src="images/serasa-logo.png">
        <h1 class="titulo-documento">Confirmação de Acordo</h1>
      </div>
      <div class="selo-pendente" id="badgeStatus">PENDENTE</div>
    </div>

    <div class="data-documento">
      <strong>Data:</strong> <span id="dataEmissao">--/--/----</span>
    </div>

    <div class="corpo-texto">
      <div class="paragrafo">
        Declaramos, na qualidade de <strong>Serasa Experian</strong>, que foi estabelecido um acordo de pagamento com
        <strong>Sr(a). <span id="nome">---</span></strong>, portador(a) do CPF
        <strong><span id="cpf">---</span></strong>, conforme os detalhes descritos abaixo.
      </div>

      <div class="destaque-desconto" id="descontoTexto">Desconto aplicado</div>

      <div class="tabela-detalhes">
        <div class="tabela-titulo">Detalhes da Negociação</div>
        <div class="linha-detalhe">
          <span class="label">Valor Original:</span>
          <span class="valor" id="valorOriginal">R$ 7.488,05</span>
        </div>
        <div class="linha-detalhe">
          <span class="label">Valor do Acordo:</span>
          <span class="valor" id="valorAcordo">R$ 78,47</span>
        </div>
        <div class="linha-detalhe">
          <span class="label">Forma de Pagamento:</span>
          <span class="valor" id="formaPagamento">PIX</span>
        </div>
        <div class="linha-detalhe">
          <span class="label">Status do Pagamento:</span>
          <span class="valor" id="statusPagamento">PENDENTE</span>
        </div>
        <div class="linha-detalhe">
          <span class="label">Prazo para Pagamento:</span>
          <span class="valor" id="prazoPagamento">--/--/----</span>
        </div>
      </div>

      <div class="declaracao">
        <div class="declaracao-texto">
          <strong>IMPORTANTE:</strong> O acordo estará válido mediante confirmação do pagamento dentro do prazo estabelecido.
          Após o pagamento, a quitação será processada em até 1 hora.
        </div>
      </div>
    </div>

    <div class="assinatura-secao">
      Documento gerado automaticamente pelo sistema Serasa Experian
    </div>

    <div class="rodape">
      <div>© 2025 Serasa Experian - Todos os direitos reservados</div>
      <div>Documento com validade jurídica</div>
    </div>
  </div>

  <script>
    const qs = new URLSearchParams(location.search);
    const getParam=(k,f="")=>{const r=qs.get(k);return r?decodeURIComponent(r):f;}

    const formatCPF=(c)=>{
      const d=(c||"").replace(/\D/g,"");
      if(d.length!==11) return c||"---";
      return d.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4");
    };

    const parseValueBR=(v)=>{
      if(v==null||v==="") return 78.47;
      const raw=String(v).trim();
      if(/^\d+$/.test(raw)&&raw.length>=3) return Number(raw)/100;
      const num=Number(raw.replace(/\./g,"").replace(",",".")); 
      return isNaN(num)?78.47:num;
    };

    const money=(n)=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n);
    const pct=(o,a)=>(!o||o<=0)?"—":(((o-a)/o)*100).toFixed(1)+"%";

    (function fill(){
      const nome=getParam("name","---");
      const cpf=getParam("cpf","");
      const val=parseValueBR(getParam("value","78,47"));
      const origParam=getParam("original","");
      const orig=origParam?parseValueBR(origParam):7488.05;

      document.getElementById("nome").textContent=nome;
      document.getElementById("cpf").textContent=formatCPF(cpf);
      document.getElementById("valorOriginal").textContent=money(orig);
      document.getElementById("valorAcordo").textContent=money(val);

      document.getElementById("descontoTexto").textContent="Desconto de "+pct(orig,val)+" sobre os débitos em aberto";

      const hoje=new Date().toLocaleDateString("pt-BR");
      document.getElementById("dataEmissao").textContent=hoje;
      document.getElementById("prazoPagamento").textContent=hoje;

      const status=(getParam("status","PENDENTE")||"PENDENTE").toUpperCase();
      const el=document.getElementById("statusPagamento");
      const badge=document.getElementById("badgeStatus");
      el.textContent=status; badge.textContent=status;
      const map={PAGO:"var(--ok)",PENDENTE:"var(--warn)",CANCELADO:"var(--danger)"};
      el.style.color=map[status]||"var(--warn)";
    })();

    // === AJUSTE PARA CABER SEM SCROLL (no iframe do Typebot) E OCUPAR LARGURA TOTAL ===
    function fitToViewport() {
      const el = document.querySelector('.documento');
      if (!el) return;

      // Altura visível do iframe
      const H = window.innerHeight || document.documentElement.clientHeight;

      // Reset para medir
      el.style.transform = 'scale(1)';
      el.style.width = '100%';

      const naturalHeight = el.getBoundingClientRect().height || el.offsetHeight || 1;

      const scale = Math.min(1, H / naturalHeight);

      // Escala vertical para caber, mantendo largura cheia:
      // se scale < 1, aumentamos a largura lógica para 100/scale%,
      // assim a largura visual fica 100% após aplicar o scale.
      if (scale < 1) {
        el.style.transform = `scale(${scale})`;
        el.style.width = `${100/scale}%`;
      } else {
        el.style.transform = 'scale(1)';
        el.style.width = '100%';
      }

      // Espaçador inferior p/ evitar qualquer rolagem
      const scaledHeight = naturalHeight * Math.min(1, scale);
      const gap = Math.max(0, H - scaledHeight);
      el.style.marginBottom = gap ? `${gap}px` : '0';
    }

    window.addEventListener('load', fitToViewport);
    window.addEventListener('resize', fitToViewport);
  </script>


</body></html>